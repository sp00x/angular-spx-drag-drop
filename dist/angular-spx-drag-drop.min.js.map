{"version":3,"file":"angular-spx-drag-drop.min.js","sources":["angular-spx-drag-drop.js"],"names":["nullFunc","toArray","notArray","array","length","i","push","spxDragDirectiveUnscoped","$parse","$","restrict","link","dragLink","bind","spxDragDirectiveScoped","scope","spxDrag","spxDragBegin","spxDragEnd","spxDragClass","spxDragEffect","spxDragData","spxDropDirectiveUnscoped","dropLink","spxDropDirectiveScoped","spxDrop","spxDropDrop","spxDropOver","spxDropClass","spxDropType","spxDropRejectFiles","spxDropEffectDefaultPriority","spxDropEffectModifierKeys","angular","module","directive","effectAllowedTable","copy","move","copyLink","copyMove","linkMove","none","all","uninitialized","undefined","log","debug","console","info","warn","error","group","groupEnd","useIsolatedScope","elem","attrs","ev","value","type","func","this","$eval","dragStartListener","e","dragEffect","data","dragBeginHandler","$apply","ret","$event","$dragData","effect","dataTransfer","effectAllowed","dragType","dragData","match","jsonData","toJson","setData","s","toString","dragClass","addClass","stopPropagation","dragEndListener","removeClass","dragEndHandler","domElem","drag","draggable","addEventListener","$on","removeEventListener","monkeyPatchDropEffect","dropEffect","allowedDrop","currentEffectAllowed","allowedDrag","keys","ctrlKey","altKey","shiftKey","op","dropEffectModifierKeyTable","dropEffectDefaultPriority","dropListenerEvent","dropClass","preventDefault","dropDropHandler","items","currentAcceptedTypes","forEach","t","files","JSON","parse","getData","$dropData","dragOverListener","currentAccept","currentRejectFile","dragEnterListener","c","a","dt","dragTypes","types","spxDropEffect","dropRejectFiles","acceptedTypes","dropAcceptedTypes","split","trim","Array","concat","dropOverHandler","res","className","accept","dragLeaveListener","drop"],"mappings":"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"}